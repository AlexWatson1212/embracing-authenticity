---
layout: default
---

<article class="page-layout">

  {%- comment -%}
  ==========================================================
  PAGE HERO (optional)
  - Shows ONLY if page.hero_image exists in front matter
  - Uses page.title + page.description (or page.subtitle fallback)
  - Keeps a real <h1> on the page for SEO, but visually hides it
  ==========================================================
  {%- endcomment -%}

  {% if page.hero_image %}
    <section
      class="page-hero"
      style="--hero-image: url('{{ page.hero_image | relative_url }}');"
      aria-label="{{ page.title | escape }}"
    >
      <div class="page-hero__inner">
        <h1 class="page-hero__title">{{ page.title }}</h1>

        {% if page.description %}
          <p class="page-hero__subtitle">{{ page.description }}</p>
        {% elsif page.subtitle %}
          <p class="page-hero__subtitle">{{ page.subtitle }}</p>
        {% endif %}
      </div>
    </section>
  {% endif %}

  <div class="container prose">
    {%- comment -%}
    SEO H1 fallback:
    - If hero exists, we keep an <h1> but hide it visually (sr-only)
    - If no hero, show normal <h1> at top
    {%- endcomment -%}

    {% if page.hero_image %}
      <h1 class="sr-only">{{ page.title }}</h1>
    {% else %}
      <h1>{{ page.title }}</h1>
      {% if page.subtitle %}
        <p class="lead">{{ page.subtitle }}</p>
      {% endif %}
      {% if page.description %}
        <p class="lead">{{ page.description }}</p>
      {% endif %}
    {% endif %}

    {{ content }}
  </div>

  <!-- Principles Navigation (only shows if "order" exists) -->
  {% if page.order %}
    <nav class="principle-nav container">
      <hr class="section-divider" />

      <div class="principle-nav-links">
        <!-- Back to Principles -->
        <a class="principle-nav-back" href="/principles/">← Back to Principles</a>

        <div class="principle-step-links">
          <!-- Previous Principle -->
          {% for p in site.pages %}
            {% if p.order == page.order | minus: 1 %}
              <a class="principle-nav-prev" href="{{ p.url }}">← Previous Principle</a>
            {% endif %}
          {% endfor %}

          <!-- Next Principle -->
          {% for p in site.pages %}
            {% if p.order == page.order | plus: 1 %}
              <a class="principle-nav-next" href="{{ p.url }}">Next Principle →</a>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    </nav>
  {% endif %}

</article>
