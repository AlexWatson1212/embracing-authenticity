---
layout: default
title: Blog
pagination:
  enabled: true
  collection: posts
---

<section class="blog-intro fade-in">
  <h2>
    {{ page.title }}
    {% if paginator and paginator.page > 1 %}
      – Page {{ paginator.page }}
    {% endif %}
  </h2>

  <p class="blog-purpose">
    This is a collection of reflections on themes I believe matter deeply in life — solitude, fear,
    trust, boundaries, and what it means to live with quiet integrity.
  </p>

  <p class="blog-purpose">
    I write these with my son in mind, as principles I hope he carries with him as he grows.
    If they help others along the way, that is welcome too.
  </p>
</section>

<!-- Search UI -->
<form class="blog-search" role="search" aria-label="Blog Search" onsubmit="return false;">
  <input id="blog-search-input" type="search" placeholder="Search for what's on your mind…" />
  <button id="blog-search-button">Search</button>
  <span id="blog-search-count" class="search-count" aria-live="polite"></span>
</form>

<!-- Live results (populated by /assets/js/search.js) -->
<ul id="blog-search-results" class="blog-search-results"></ul>

<section class="blog-list" id="blogPosts">

  {%- assign posts_to_show = paginator.posts -%}
  {%- if posts_to_show == nil or posts_to_show.size == 0 -%}
    {%- assign posts_to_show = site.posts -%}
  {%- endif -%}

  {% for post in posts_to_show %}
    <article
      class="blog-card fade-in"
      data-tags="{{ post.tags | join: ',' }}"
      data-emotions="{{ post.emotions | join: ',' }}"
    >
      <div class="blog-card-content">
        <h3>
          <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
        </h3>

        <p class="post-date">
          {{ post.date | date: "%B %d, %Y" }}
        </p>

        <p class="excerpt">
          {{ post.description | default: post.excerpt | strip_html | truncatewords: 24 }}
        </p>

        <div class="tag-list">
          {% assign shown_emotions = post.emotions | slice: 0, 2 %}
          {% for emotion in shown_emotions %}
            <span class="tag">{{ emotion | capitalize }}</span>
          {% endfor %}

          {% if post.emotions and post.emotions.size > 2 %}
            <span class="tag">+{{ post.emotions.size | minus: 2 }} more</span>
          {% endif %}
        </div>

        <a href="{{ post.url | relative_url }}" class="read-more">Read More →</a>
      </div>
    </article>
  {% endfor %}

  {% if paginator and paginator.total_pages > 1 %}
    <div class="pagination fade-in">
      {% if paginator.previous_page %}
        <a href="{{ paginator.previous_page_path | relative_url }}" class="pagination-link">
          &larr; Previous
        </a>
      {% endif %}

      {% if paginator.next_page %}
        <a href="{{ paginator.next_page_path | relative_url }}" class="pagination-link">
          Next &rarr;
        </a>
      {% endif %}
    </div>
  {% endif %}

  <div class="back-to-top fade-in">
    <a href="#" class="scroll-link">Back to Top ↑</a>
  </div>
</section>

<style>
  .blog-purpose {
    max-width: 640px;
    margin: 0 auto 1.25rem;
    font-size: 1.05rem;
    line-height: 1.6;
    color: var(--color-muted);
    text-align: center;
  }

  .blog-search {
    display: flex;
    gap: .5rem;
    align-items: center;
    margin: 1rem 0 1.5rem;
  }

  .blog-search input[type="search"] {
    flex: 1;
    padding: .6rem .8rem;
    border: 1px solid var(--color-mid);
    border-radius: 6px;
  }

  .blog-search button {
    padding: .6rem 1rem;
    border: 2px solid var(--color-accent);
    color: var(--color-accent);
    background: transparent;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
  }

  .blog-search button:hover {
    background: var(--color-accent);
    color: #fff;
  }

  .search-count {
    margin-left: .5rem;
    color: var(--color-muted);
    font-size: .95rem;
  }

  .blog-search-results {
    list-style: none;
    margin: 1rem 0 2rem;
    padding: 0;
    display: grid;
    gap: 1rem;
  }

  .search-result {
    background: var(--color-light);
    border-radius: var(--radius);
    padding: 1rem 1.25rem;
    box-shadow: var(--shadow);
  }

  .search-title {
    font-weight: 700;
    text-decoration: none;
    color: var(--color-primary);
  }

  .search-title:hover {
    color: var(--color-accent);
  }

  .search-snippet {
    margin: .5rem 0 .25rem;
  }

  .search-meta {
    color: var(--color-muted);
    font-size: .9rem;
  }

  .chip {
    display: inline-block;
    margin-left: .35rem;
    padding: .1rem .5rem;
    background: var(--color-highlight);
    color: var(--color-accent);
    border-radius: 999px;
    font-size: .75rem;
  }

  .chip.emo {
    background: #dbe5ea;
    color: var(--color-primary);
  }
</style>

<script>
  document.querySelectorAll('.scroll-link').forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      const el = document.getElementById('blogPosts');
      if (!el) return;
      const offset = 80;
      const top = el.getBoundingClientRect().top + window.scrollY - offset;
      window.scrollTo({ top, behavior: 'smooth' });
    });
  });

  const faders = document.querySelectorAll('.fade-in');
  const appearOnScroll = new IntersectionObserver((entries, obs) => {
    entries.forEach(entry => {
      if (!entry.isIntersecting) return;
      entry.target.classList.add("in-view");
      obs.unobserve(entry.target);
    });
  }, { threshold: 0.1, rootMargin: "0px 0px -50px 0px" });

  faders.forEach(el => appearOnScroll.observe(el));

  (function(){
    var input = document.querySelector('#blog-search-input');
    var list  = document.querySelector('.blog-list');
    if (!input || !list) return;
    input.addEventListener('input', function(){
      list.style.display = this.value.trim() ? 'none' : '';
    });
  })();
</script>

<script src="{{ '/assets/js/search.js' | relative_url }}" defer></script>
