<script>
  fetch('/music-therapy.json')
    .then(res => res.json())
    .then(data => {
      const input = document.getElementById('music-search-input');
      const form = document.getElementById('music-search-form');
      const resultsContainer = document.getElementById('music-search-results');

      form.addEventListener('submit', function (e) {
        e.preventDefault();
        const query = input.value.toLowerCase();
        const results = data.filter(post =>
          post.title.toLowerCase().includes(query) ||
          post.tags.join(',').toLowerCase().includes(query) ||
          post.description.toLowerCase().includes(query)
        );

        resultsContainer.innerHTML = '';
        if (results.length === 0) {
          resultsContainer.innerHTML = '<p>No results found.</p>';
        } else {
          results.forEach(post => {
            resultsContainer.innerHTML += `
              <div class="post-card">
                <h3><a href="${post.url}">${post.title}</a></h3>
                <p>${post.date} â€” ${post.description}</p>
              </div>
            `;
          });
        }
      });
    });
</script>
