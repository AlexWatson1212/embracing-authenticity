/*
====================================================================
Embracing Authenticity — Consolidated CSS (Part 1/5)
--------------------------------------------------------------------
Copy this whole chunk as your first ~200 lines.
====================================================================
*/

/* ==================================================================
PART 1/5 — Base, Variables, Resets, Layout, Typography (UPDATED)
================================================================== */

/* Variables (site-wide palette + tokens) */
:root {
  /* Core palette — calm, grounded, therapeutic */
  --color-bg: #F4F0EA;             /* warm sand */
  --color-primary: #112234;        /* ink */
  --color-accent: #C7773F;         /* copper */
  --color-highlight: #F3E7DC;      /* soft warm highlight */
  --color-light: #FFFFFF;
  --color-mid: rgba(17,34,52,.12);
  --color-muted: #526273;

  /* Footer */
  --color-footer-bg: #0F2A3A;
  --color-footer-text: #F4F0EA;

  /* Header/Nav */
  --ea-navy: #0F2A3A;
  --ea-accent: #C7773F;
  --ea-text: #F4F6F8;
  --ea-link: #F3C6A6;
  --ea-shadow: 0 10px 28px rgba(0,0,0,.16);

  /* Shared surfaces */
  --surface: rgba(255,255,255,.72);
  --line: rgba(17,34,52,.10);
  --shadow: 0 14px 38px rgba(0,0,0,.12);
  --shadow-soft: 0 10px 28px rgba(0,0,0,.08);

  /* Fonts */
  --font-heading: 'Playfair Display', serif;
  --font-body: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;

  /* Motion & shape */
  --radius: 14px;
  --transition: 0.3s ease;

  /* Layout */
  --container-max: 1100px;
  --container-pad-x: 1rem;
  --section-pad-y: 2.25rem;

  /* Logo */
  --logo-h-mobile: 48px;
  --logo-h-desktop: 72px;

  /* Hero sizing */
  --hero-title-size-min: 1.7rem;
  --hero-title-size-max: 3.1rem;
  --hero-sub-size-min: 1rem;
  --hero-sub-size-max: 1.25rem;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  :root { --transition: 0s; }
  * {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}

/* Reset & Box Model */
*, *::before, *::after { box-sizing: border-box; }
html { scroll-behavior: smooth; }

body {
  font-family: var(--font-body);
  background-color: var(--color-bg);
  background-image: url('/assets/images/bg-texture.png');
  background-repeat: repeat;
  background-size: auto;
  color: var(--color-primary);
  line-height: 1.65;
  text-align: left;
  margin: 0;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Soft overlay to calm the texture */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: rgba(244,240,234,.55);
  mix-blend-mode: multiply;
  z-index: -1;
}

img { max-width: 100%; height: auto; display: block; }

/* Global container (site content wrapper) */
.container {
  max-width: var(--container-max);
  margin: 0 auto;
  padding: var(--section-pad-y) var(--container-pad-x);
}

/* Keep header (.shell) aligned with content (.container) */
.shell {
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 0 var(--container-pad-x);
  box-sizing: border-box;
}

/* Safety: constrain single-post pages even if not wrapped in .container */
.site-content > .post {
  max-width: var(--container-max);
  margin: 0 auto;
  padding: var(--section-pad-y) var(--container-pad-x);
  box-sizing: border-box;
}

/* Typography */
:where(p, ul, ol, blockquote) { margin-bottom: 1.6rem; }

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-heading);
  font-weight: 700;
  color: var(--color-primary);
  margin: 2rem 0 1rem;
  line-height: 1.2;
}

main h2 { color: var(--color-accent); }

p { color: var(--color-primary); }
small, .muted { color: var(--color-muted); }

/* Links (general) */
a { color: var(--color-primary); text-decoration: none; transition: color var(--transition); }
a:hover { color: var(--color-accent); }

/* Content inline links — underline by default (but not buttons/nav chips) */
main :where(p, li, blockquote) a:not(.btn):not(.read-more):not(.post-tag):not(.emotion-button):not(.social) {
  text-decoration-line: underline;
  text-underline-offset: 2px;
  text-decoration-thickness: 2px;
  text-decoration-color: var(--color-accent);
}

/* Hover/focus — keep it obvious and accessible */
main :where(p, li, blockquote) a:not(.btn):not(.read-more):not(.post-tag):not(.emotion-button):not(.social):hover {
  color: var(--color-accent);
}
main :where(p, li, blockquote) a:not(.btn):not(.read-more):not(.post-tag):not(.emotion-button):not(.social):focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
  border-radius: 2px;
}

/* Post navigation */
.post-navigation {
  display: flex;
  justify-content: space-between;
  margin-top: 3rem;
  padding-top: 1.5rem;
  border-top: 1px solid var(--color-mid);
  font-size: 0.95rem;
}
.post-navigation a {
  color: var(--color-accent);
  font-weight: 600;
  text-decoration: none;
  transition: color var(--transition);
}
.post-navigation a:hover { color: var(--color-primary); }

/* Screen-reader only helper */
.sr-only {
  position: absolute;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0);
  white-space: nowrap; border: 0;
}

/* Responsive rhythm tweaks */
@media (min-width: 860px) {
  :root { --section-pad-y: 2.5rem; }
}

/* ==================================================================
PART 2/5 — Header / Navigation (REPLACED: full-bleed + nav__links support)
================================================================== */

.top-accent { display: none; }

/* Sticky header — full-bleed */
.site-header {
  position: sticky; top: 0; z-index: 1000;
  background: var(--ea-navy); color: var(--ea-text);
  box-shadow: var(--ea-shadow); width: 100%;
}

/* Inner container keeps content aligned to site width */
.site-header .shell {
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 0.9rem 1rem;
  display: flex; align-items: center; justify-content: space-between; gap: 1rem;
}

/* Brand (logo only) */
:root { --logo-h-mobile: 48px; --logo-h-desktop: 72px; }
.brand { display: flex; align-items: center; gap: .6rem; text-decoration: none; color: inherit; }
.brand-mark { height: var(--logo-h-mobile); width: auto; max-width: 100%; object-fit: contain; }
.brand-text { display: none; }

/* Legacy .site-nav links */
.site-nav { width: auto; }
.site-nav ul {
  display: flex; align-items: center; gap: 1.25rem;
  list-style: none; margin: 0; padding: 0; flex-wrap: wrap;
}
.site-nav a {
  color: var(--ea-text); text-decoration: none; padding: .45rem 0;
  border-bottom: 2px solid transparent; font-weight: 600;
  transition: color var(--transition), border-color var(--transition);
}
.site-nav a:hover, .site-nav a:focus { border-bottom-color: var(--ea-link); }
.site-nav a.is-active { border-bottom-color: var(--ea-accent); }

/* Hamburger (mobile) */
.nav-toggle {
  display: inline-flex; align-items: center; justify-content: center;
  border: 1px solid rgba(255,255,255,.2);
  background: transparent; color: var(--ea-text);
  border-radius: .6rem; padding: .45rem; cursor: pointer;
}

/* Mobile slide-down (legacy .site-nav) */
@media (max-width: 860px) {
  .site-header .shell { flex-wrap: wrap; }
  .nav-toggle { display: inline-flex; }
  .site-nav {
    width: 100%; overflow: hidden; max-height: 0;
    transition: max-height .3s ease;
  }
  .site-header.is-open .site-nav { max-height: 240px; }
  .site-nav ul {
    flex-direction: column; align-items: flex-start;
    padding: .5rem 0 .75rem; gap: .75rem;
  }
}

/* Desktop: thicker bar + larger logo */
@media (min-width: 861px) {
  .nav-toggle { display: none; }
  .site-nav { max-height: none !important; }
  .site-header .shell { padding: 1.15rem 1.5rem; }
  .brand-mark { height: var(--logo-h-desktop); }
}

/* Hide any leftover huge masthead title */
.masthead, .site-title, header .site-title { display: none !important; }

/* Minimal nav system styles for <nav class="nav"> + .nav__links */
.nav {
  max-width: var(--container-max); margin: 0 auto; padding: 0.9rem 1rem;
  display: flex; align-items: center; justify-content: space-between; gap: 1rem;
}
.nav__brand { color: var(--ea-text); text-decoration: none; font-weight: 800; letter-spacing: .2px; }

/* Toggle button */
.nav__toggle {
  display: inline-flex; align-items: center; justify-content: center;
  border: 1px solid rgba(255,255,255,.25);
  background: transparent; color: var(--ea-text);
  border-radius: .6rem; padding: .45rem .55rem; cursor: pointer;
  transition: background-color var(--transition), border-color var(--transition);
}
.nav__toggle:hover { background: rgba(255,255,255,.06); }

/* Simple hamburger icon block */
.nav__icon {
  width: 20px; height: 2px; background: currentColor; position: relative; display: block;
}
.nav__icon::before, .nav__icon::after {
  content:""; position: absolute; left: 0; right: 0; height: 2px; background: currentColor;
}
.nav__icon::before { top: -6px; }
.nav__icon::after  { top: 6px; }

/* Links list */
.nav__links {
  display: flex; flex-wrap: wrap; gap: 1.25rem;
  list-style: none; margin: 0; padding: 0;
}
.nav__links a {
  color: var(--ea-text); text-decoration: none; font-weight: 600; padding: .45rem 0;
  border-bottom: 2px solid transparent; transition: color var(--transition), border-color var(--transition);
}
.nav__links a:hover { color: var(--ea-link); border-bottom-color: var(--ea-link); }

/* Mobile behavior for .nav__links using [hidden] */
@media (max-width: 860px) {
  .nav { flex-wrap: wrap; }
  .nav__toggle { display: inline-flex; }
  .nav__links[hidden] { display: none !important; }
  .nav__links {
    width: 100%; flex-direction: column; align-items: flex-start;
    padding: .5rem 0 .75rem; gap: .75rem;
  }
}

/* Desktop */
@media (min-width: 861px) { .nav__toggle { display: none; } }

/* ==================================================================
PART 3/5 — Blog, Posts, Hero, Interludes, Animations (FINAL)
================================================================== */

/* ================================================================
POST PAGE — Timeless, calm, readable (FINAL)
================================================================ */

/* Outer article */
.post {
  background: rgba(255,255,255,.82);
  border-radius: 16px;
  border: 1px solid var(--line);
  box-shadow: var(--shadow);
  padding: clamp(1.25rem, 2.4vw, 2.2rem);
}

/* Constrain reading width */
.post-header,
.post-content,
.post-navigation {
  max-width: 860px;
  margin-left: auto;
  margin-right: auto;
}

/* Header */
.post-header {
  margin: 0 0 1.75rem;
}

.post-title {
  margin: 0 0 .65rem;
  color: var(--color-accent);
  letter-spacing: .2px;
  line-height: 1.15;
  font-size: clamp(1.9rem, 3.4vw, 2.7rem);
}

/* Optional subtitle (from front matter if used) */
.post-subtitle {
  margin: 0;
  max-width: 760px;
  color: var(--color-muted);
  font-size: 1.05rem;
  line-height: 1.7;
}

/* Main content */
.post-content {
  font-size: 1.03rem;
  line-height: 1.85;
  color: var(--color-primary);
}

/* Headings inside posts */
.post-content h2 {
  margin: 2.4rem 0 .85rem;
  color: var(--color-accent);
  font-size: clamp(1.35rem, 2.3vw, 1.75rem);
  line-height: 1.25;
}

.post-content h3 {
  margin: 1.9rem 0 .65rem;
  color: var(--color-primary);
  font-size: clamp(1.15rem, 2vw, 1.4rem);
}

.post-content h4 {
  margin: 1.5rem 0 .55rem;
  font-size: 1.1rem;
}

/* Paragraph rhythm */
.post-content p {
  margin: 0 0 1.35rem;
}

/* Lists */
.post-content ul,
.post-content ol {
  padding-left: 1.25rem;
  margin: 0 0 1.35rem;
}

.post-content li {
  margin: .45rem 0;
}

/* Links */
.post-content a {
  color: var(--color-primary);
  text-decoration-line: underline;
  text-underline-offset: 3px;
  text-decoration-thickness: 2px;
  text-decoration-color: rgba(199,119,63,.65);
  transition: color var(--transition), text-decoration-color var(--transition);
}

.post-content a:hover {
  color: var(--color-accent);
  text-decoration-color: rgba(199,119,63,1);
}

/* Blockquotes */
.post-content blockquote {
  margin: 1.75rem 0;
  padding: 1rem 1.1rem;
  border-left: 4px solid rgba(199,119,63,.7);
  background: rgba(243,231,220,.55);
  border-radius: 12px;
}

/* Horizontal rules */
.post-content hr {
  border: 0;
  height: 1px;
  background: rgba(17,34,52,.14);
  margin: 2rem 0;
}

/* Images */
.post-content img {
  border-radius: 14px;
  border: 1px solid rgba(17,34,52,.1);
  box-shadow: 0 10px 28px rgba(0,0,0,.08);
  margin: 1.5rem 0;
}

/* Post navigation */
.post-navigation {
  display: flex;
  justify-content: space-between;
  gap: 1rem;
  margin-top: 2.25rem;
}

/* ================================================================
BLOG PAGE — Intro, Search, Cards (FINAL)
================================================================ */

/* Intro */
.blog-intro {
  max-width: 820px;
  margin: 0 auto 1.5rem;
  text-align: center;
}

.blog-intro h2 {
  margin: 0 0 .65rem;
}

.blog-purpose {
  max-width: 680px;
  margin: .35rem auto .85rem;
  font-size: 1.05rem;
  line-height: 1.65;
  color: var(--color-muted);
}

/* Search */
.blog-search {
  display: flex;
  gap: .6rem;
  align-items: center;
  max-width: 860px;
  margin: 1.25rem auto 1.75rem;
}

.blog-search input[type="search"] {
  flex: 1;
  padding: .65rem .9rem;
  border: 1px solid var(--color-mid);
  border-radius: 10px;
  background: rgba(255,255,255,.78);
  box-shadow: 0 8px 22px rgba(0,0,0,.05);
}

.blog-search input[type="search"]:focus {
  border-color: rgba(199,119,63,.55);
  box-shadow: 0 0 0 4px rgba(199,119,63,.14);
  outline: none;
}

.blog-search button {
  padding: .65rem 1.05rem;
  border: 2px solid var(--color-accent);
  color: var(--color-accent);
  background: transparent;
  border-radius: 10px;
  font-weight: 800;
  cursor: pointer;
  transition: transform .18s ease, background-color var(--transition), color var(--transition);
}

.blog-search button:hover {
  background: var(--color-accent);
  color: var(--color-light);
  transform: translateY(-1px);
}

/* Blog list */
.blog-list {
  max-width: 860px;
  margin: 0 auto;
  display: grid;
  gap: 1.6rem;
}

/* Cards */
.blog-card {
  background: rgba(255,255,255,.82);
  border-radius: var(--radius);
  padding: 1.75rem;
  box-shadow: var(--shadow-soft);
  border: 1px solid var(--line);
  transition: transform var(--transition), box-shadow var(--transition);
}

.blog-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow);
}

.blog-card-content h3 {
  margin: 0 0 .45rem;
}

.blog-card-content h3 a {
  color: var(--color-primary);
  text-decoration: none;
}

.blog-card-content h3 a:hover {
  color: var(--color-accent);
}

.blog-card .excerpt {
  margin: .65rem 0 1rem;
}

/* Hide dates everywhere (timeless) */
.post-date {
  display: none !important;
}

/* Tags */
.tag-list {
  display: flex;
  flex-wrap: wrap;
  gap: .5rem;
  margin: 0 0 1rem;
}

.tag {
  padding: .25rem .6rem;
  border-radius: 999px;
  font-size: .75rem;
  font-weight: 800;
  background: var(--color-highlight);
  color: var(--color-accent);
  border: 1px solid rgba(199,119,63,.22);
}

/* Read more */
.read-more {
  display: inline-block;
  padding: .45rem 1rem;
  border: 2px solid var(--color-accent);
  border-radius: 10px;
  font-weight: 800;
  color: var(--color-accent);
  text-decoration: none;
}

.read-more:hover {
  background: var(--color-accent);
  color: var(--color-light);
}

/* Pagination */
.pagination {
  display: flex;
  justify-content: center;
  gap: .8rem;
  margin: 1.75rem auto 0;
}

.pagination-link {
  padding: .55rem 1rem;
  border-radius: 10px;
  border: 1px solid var(--color-mid);
  background: rgba(255,255,255,.62);
  font-weight: 800;
}

/* Back to top */
.back-to-top {
  text-align: center;
  margin-top: 1.5rem;
}

.back-to-top a {
  color: var(--color-accent);
  font-weight: 800;
  text-decoration: none;
}

/* ================================================================
Fade-in utility
================================================================ */
.fade-in {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity .6s ease-out, transform .6s ease-out;
}

.fade-in.in-view {
  opacity: 1;
  transform: translateY(0);
}

/* Mobile */
@media (max-width: 768px) {
  .blog-search {
    flex-direction: column;
  }
  .blog-search button {
    width: 100%;
  }
  .blog-card {
    padding: 1.35rem;
  }
}

/* ==================================================================
PART 4/5 — Music Therapy Grid, LEGO Animation, Tags/Emotions
================================================================== */

/* Music Therapy */
.music-therapy-main { max-width: 900px; margin: 0 auto; padding: 2rem 1rem; }
.music-posts-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; }
.post { background: var(--color-light); padding: 1rem; border-radius: var(--radius); box-shadow: var(--shadow); transition: transform var(--transition); }
.post:hover { transform: translateY(-4px); }
.post-thumbnail { width: 100%; height: auto; border-radius: 8px; margin-bottom: 1rem; }
.post-date { font-size: .9rem; color: var(--color-muted); margin-bottom: .5rem; }
.post-description { font-size: 1rem; }

/* LEGO Animation section */
.lego-animation-section {
  text-align: center; margin: 4rem auto; padding: 2rem; background: #fdfdfd;
  border-radius: 16px; box-shadow: 0 4px 10px rgba(0,0,0,.08); max-width: 600px;
}
.lego-animation-section h3 { font-size: 1.5rem; margin-bottom: .5rem; color: var(--color-primary); }
.lego-animation-section p { font-size: 1rem; color: #444; margin-bottom: 2rem; }
.lego-silhouette {
  position: relative; width: 180px; height: 400px; margin: 0 auto;
  background: url('/assets/images/lego-silhouette-outline.png') no-repeat center/contain;
}
.block { position: absolute; width: 30px; height: 20px; background: var(--color-accent); border-radius: 4px; opacity: 0; animation: riseIn 1s ease-out forwards; }
@keyframes riseIn { 0% { transform: translateY(20px) scale(.8); opacity: 0; } 100% { transform: translateY(0) scale(1); opacity: 1; } }
@media (max-width: 480px) {
  .lego-silhouette { width: 120px; height: 280px; }
  .block { width: 20px; height: 14px; }
}

/* Tags & Emotion Filters */
.tag-filter { text-align: center; margin: 2rem 0; }
.post-tag, .emotion-button {
  display: inline-block; font-size: .7rem; font-weight: 600;
  padding: .4rem 1rem; border-radius: 6px; margin: .3rem;
  text-transform: uppercase; letter-spacing: .5px; cursor: pointer; text-decoration: none;
  background: var(--color-highlight); color: var(--color-accent);
  transition: background-color var(--transition), color var(--transition), transform .2s ease;
}
.post-tag:hover, .post-tag.active, .emotion-button.active { background: var(--color-accent); color: #fff; transform: scale(1.05); }
.emotion-button { background: #dbe5ea; color: var(--color-primary); }
.emotion-button:hover { transform: scale(1.05); }

.clear-tag-filter, .clear-emotion-filter {
  background: #EDEDED; color: var(--color-primary); font-size: .95rem;
  padding: .4rem 1rem; border-radius: 6px; margin: .5rem; display: inline-block;
  transition: background-color var(--transition), color var(--transition);
}
.clear-tag-filter:hover, .clear-emotion-filter:hover { background: var(--color-accent); color: #fff; }

/* Emotion list */
.emotion-list { list-style: none; padding: 0; margin-top: 2rem; }
.emotion-list li { margin-bottom: 2rem; padding-bottom: 1rem; border-bottom: 1px solid #ddd; }
.emotion-list h3 a { font-size: 1.4rem; color: var(--color-accent); text-decoration: none; font-family: var(--font-heading); }
.emotion-list p { font-size: 1rem; color: #444; margin-top: .5rem; }

/* ==================================================================
PART 5/5 — Accent Band + Global Footer (Centered Layout, Clean Icons)
================================================================== */

/* Accent band (optional, under hero) */
.accent-band {
  background: var(--ea-navy); color: var(--ea-text);
  padding: 22px 0; margin-top: -8px; box-shadow: var(--ea-shadow);
}
.accent-band .container {
  max-width: var(--container-max); margin: 0 auto; padding: 0 16px;
  display: flex; align-items: center; justify-content: center;
}
.accent-band .btn, .accent-band .btn.btn-light {
  display: inline-block; padding: 10px 16px; border-radius: 8px;
  background: var(--color-light); color: var(--ea-navy);
  text-decoration: none; font-weight: 600; border: 0;
  transition: transform var(--transition), box-shadow var(--transition);
}
.accent-band .btn:hover, .accent-band .btn.btn-light:hover {
  transform: translateY(-1px); box-shadow: 0 4px 10px rgba(0,0,0,.12);
}

/* Global footer */
.site-footer {
  background: var(--ea-navy); color: var(--ea-text);
  margin-top: 48px; padding: 36px 16px; text-align: center;
}
.site-footer .footer-center {
  max-width: var(--container-max); margin: 0 auto;
  display: flex; flex-direction: column; align-items: center; gap: 16px;
}

/* Brand */
.footer-brand strong { color: var(--ea-text); }
.footer-brand .muted { color: rgba(255,255,255,.9); font-size: 0.95rem; margin-top: 4px; }

/* Nav */
.footer-nav { display: flex; gap: 16px; justify-content: center; }
.footer-nav a {
  color: var(--ea-text); text-decoration: none; opacity: 0.95; font-size: 0.95rem;
  border-bottom: 2px solid transparent; transition: opacity var(--transition), border-color var(--transition);
}
.footer-nav a:hover { opacity: 1; border-bottom-color: var(--ea-link); }

/* Social */
:root { --footer-icon-size: 22px; }
.footer-social { display: flex; gap: 20px; justify-content: center; }
.footer-social .social {
  color: #fff; opacity: 0.9; transition: opacity var(--transition), transform var(--transition);
}
.footer-social .social:hover { opacity: 1; transform: translateY(-1px); }
.footer-social .icon { width: var(--footer-icon-size); height: var(--footer-icon-size); display: block; }

/* Note */
.footer-note {
  font-size: 0.95rem; color: rgba(255,255,255,.9); max-width: 500px;
}
.footer-note a { color: var(--ea-text); text-decoration: none; transition: opacity var(--transition); }
.footer-note a:hover { opacity: 1; }

/* Print */
@media print {
  .site-footer, .accent-band { background: #fff !important; color: #000 !important; box-shadow: none !important; }
  .footer-nav a, .footer-note a { color: #000 !important; border: 0 !important; }
}
